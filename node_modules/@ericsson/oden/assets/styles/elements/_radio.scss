@import "../core";

@mixin radio-button-style() {
    position: absolute;
    left: -9999px;
    opacity: 0;
    &:checked {
        + label {
            &:before, &:after {
                transition: $dur2 $ease-standard, $trans-bg;
            }
            &:before {
                @include theming(border-color, brand-primary);
            }
            &:after {
                z-index: 0;
                @include theming(background-color, brand-primary);
            }
        }
    }
    + label {
        position: relative;
        display: inline-block;
        cursor: pointer;
        max-width: calc(100% - 10px);
        height: 32px;
        line-height: 20px;
        font-size: 13px;
        padding-top: 8px;
        padding-left: 32px;
        margin-bottom: 24px;
        transition: $dur2 $ease-standard;
        @include text-selection(none);

        &:before, &:after {
            content: '';
            position: absolute;
            left: 9px;
            top: 9px;
            transition: $dur2 $ease-standard;
            border-radius: 50%;
        }
        &:before {
            border-width: 1px;
            border-style: solid;
            width: 14px;
            height: 14px;
            left: 9px;
            top: 9px;
            z-index: 0;
            @include theming(border-color, base-color, $opaque-75);
        }
        &:after {
            left: 12px;
            top: 12px;
            width: 10px;
            height: 10px;
            z-index: -1;
        }
        & + .cui-info-button {
            margin-top: -5px;
            margin-bottom: -1px;
        }
        &.next-to-select {
            height: auto;
            width: 100%;
            padding-top: 2px;
            .select-group {
                margin-bottom: 0;
                margin-right: 0;
                + .error-text, + .warning-text, + .oden-error {
                    margin-top: 5px;
                }
            }
            &:before {
                top: 8px;
            }
            &:after {
                top: 11px;
            }
        }
        &.next-to-input, &.next-to-textarea {
            height: auto;
            width: 100%;
            .field-group, .oden-form-field {
                &:last-child {
                    margin-bottom: 0;
                }
            }
            &:before {
                top: 8px;
            }
            &:after {
                top: 11px;
            }
        }
        > .oden-form-field > input {
            &:placeholder-shown:not(:focus)::-webkit-input-placeholder {
                opacity: 1;
            }
            &:not(:focus)::-ms-input-placeholder {
                opacity: 1;
            }
        }
    }
    &:not(.disabled):not(:disabled):not(:read-only):not([readonly]) {
        &.tabbed:focus, &:focus {
            &:not(:active) + label:before {
                @include theming(box-shadow, (0, 0, 0, 4px, brand-primary), $opaque-20);
            }
        }
        &:active + label:before {
            @include theming(box-shadow, (0, 0, 0, 8px, brand-primary), $opaque-20);
        }
    }
    &.disabled, &:disabled {
        + label {
            cursor: default;
            @include theming(color, base-color, $opaque-35);
            &:before {
                @include theming(border-color, base-color, $opaque-35);
            }
            &:after {
                @include theming(background-color, base-color, $opaque-35);
            }
        }
    }
}

@mixin radio-button-invalid-style() {
    &:not(.disabled):not(:disabled):not(:read-only):not([readonly]).ng-invalid {
        + label {
            &:before {
                @include theming(border-color, status-major);
            }
            &:after {
                @include theming(background-color, status-major);
            }
        }
        &:checked + label {
            &:before, &:after {
                @include theming(border-color, status-major);
            }
            &:after {
                @include theming(background-color, status-major);
            }
        }
        &.tabbed:focus, &:focus {
            &:not(:active) + label:before {
                @include theming(box-shadow, (0, 0, 0, 4px, status-major), $opaque-20);
            }
        }
        &:active + label:before {
            @include theming(box-shadow, (0, 0, 0, 8px, status-major), $opaque-20);
        }
    }
}

// Old specific styles
input[type="radio"].cui-radio {
    @include radio-button-style();
    @include radio-button-invalid-style();
}

// Oden unique styles
input[type="radio"].oden-radio {
    @include radio-button-style();
}

.cui-table-row, .oden-row {
    [type="radio"] {
        + label {
            padding-top: 20px !important;
            margin-bottom: 0 !important;
            height: inherit !important;
        }
    }
}
