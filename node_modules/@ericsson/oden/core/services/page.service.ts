import { Injectable } from '@angular/core';
import { PAGE_TYPE } from '../../core/constants/page-type.constants';
import { Observable, BehaviorSubject } from 'rxjs';

// use this service to store pagetype as PAGE_TYPE.ENTITY/PAGE_TYPE.GENERAL
// set pageType as PAGE_TYPE.ENTITY to show app header title if no action items available
@Injectable()
export class PageService {

    private _pageType: PAGE_TYPE;
    private _pageTypeSubject: BehaviorSubject<PAGE_TYPE>;

    onPageTypeChange$: Observable<PAGE_TYPE>;

    constructor() {
        this._pageTypeSubject = new BehaviorSubject<PAGE_TYPE>(PAGE_TYPE.GENERAL);
        this.onPageTypeChange$ = this._pageTypeSubject.asObservable();
    }

    setPageType(type: PAGE_TYPE) {
        this._pageType = type;
        this._pageTypeSubject.next(this._pageType);
    }
}
