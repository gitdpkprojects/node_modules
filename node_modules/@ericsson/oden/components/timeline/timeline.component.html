<div class="timeline-groups">
    <div *ngIf="planned.length > 0" class="timeline-group">
        <p class="timeline-header">{{'ODEN.COMMON.PLANNED' | translate}}</p>
        <div class="timeline-content">
            <div class="sidebar"></div>
            <ul class="timeline-item-container">
                <li *ngFor="let item of getMax(planned)" class="timeline-item-group">
                    <div class="timeline-item">
                        <span class="timeline-from">{{getFormattedDate(item.validFrom)}}</span>
                        <span class="timeline-middle">{{'ODEN.COMMON.TO' | translate | lowercase }}</span>
                        <span class="timeline-to" *ngIf="item.validTo;else plannedValidToFallback">{{getFormattedDate(item.validTo)}}</span>
                        <ng-template #plannedValidToFallback>{{'ODEN.COMPONENTS.ENTITY_VERSION.END_OF_TIME' | translate }}</ng-template>
                    </div>
                </li>
            </ul>
        </div>
        <div *ngIf="getMax(planned).length < planned.length" class="timeline-more">
            <div class="sidebar" *ngIf="valid.length > 0 || previous.length > 0"></div>
            <span>+ {{getAdditionalItems(planned)}} {{'ODEN.COMMON.MORE' | translate | lowercase }}</span>
        </div>
    </div>
    <div *ngIf="valid.length > 0" class="timeline-group">
        <p class="timeline-header">{{'ODEN.COMMON.CURRENTLY_VALID' | translate}}</p>
        <div class="timeline-content">
            <div class="sidebar"></div>
            <ul class="timeline-item-container">
                <li *ngFor="let item of getMax(valid)" class="timeline-item-group">
                    <div class="timeline-item">
                        <span class="timeline-from">{{getFormattedDate(item.validFrom)}}</span>
                        <span class="timeline-middle">{{'ODEN.COMMON.TO' | translate | lowercase}}</span>
                        <span class="timeline-to" *ngIf="item.validTo;else validValidToFallback">{{getFormattedDate(item.validTo)}}</span>
                        <ng-template #validValidToFallback>{{'ODEN.COMPONENTS.ENTITY_VERSION.END_OF_TIME' | translate }}</ng-template>
                    </div>
                </li>
            </ul>
        </div>
        <div *ngIf="getMax(valid).length < valid.length" class="timeline-more">
            <div class="sidebar" *ngIf="previous.length > 0"></div>
            <span>+ {{getAdditionalItems(valid)}} {{'ODEN.COMMON.MORE' | translate | lowercase }}</span>
        </div>
    </div>
    <div *ngIf="previous.length > 0" class="timeline-group">
        <p class="timeline-header">{{'ODEN.COMMON.PREVIOUS' | translate}}</p>
        <div class="timeline-content">
            <div class="sidebar"></div>
            <ul class="timeline-item-container">
                <li *ngFor="let item of getMax(previous)" class="timeline-item-group">
                    <div class="timeline-item">
                        <span class="timeline-from">{{getFormattedDate(item.validFrom)}}</span>
                        <span class="timeline-middle">{{'ODEN.COMMON.TO' | translate | lowercase}}</span>
                        <span class="timeline-to" *ngIf="item.validTo;else previousValidToFallback">{{getFormattedDate(item.validTo)}}</span>
                        <ng-template #previousValidToFallback>{{'ODEN.COMPONENTS.ENTITY_VERSION.END_OF_TIME' | translate }}</ng-template>
                    </div>
                </li>
            </ul>
        </div>
        <div *ngIf="getMax(previous).length < previous.length" class="timeline-more">
            <span>+ {{getAdditionalItems(previous)}} {{'ODEN.COMMON.MORE' | translate | lowercase }}</span>
        </div>
    </div>
</div>
