[//]: # (title: Focus shift)
[//]: # (category: Modals)
[//]: # (icon: fa-list-alt)

#Focus shift
* import { ExternalTaskComponent } from '@ericsson/oden';

This component is used to open an external task (site), send data to the external task and then finally receive data back. It's used along side with FocusShift.

## Opening an external task

```js
const componentRef = await this._modalService
    .createFocusShiftBlockFromComponent<ExternalTaskComponent>(
        ExternalTaskComponent,
        this.gotoTaskButton // button to open focus shift from 
    );
this.taskFocusShiftComponent = componentRef.instance;
const promise = this.taskFocusShiftComponent.goto('http://localhost:4200/tpg-2/dynamicShortcut', {
    parent: 'Focus Shift', // Used in breadcrumb back message
    cancelMessage: 'Task was cancelled!', // Message to display after clicking back in breadcrumb
    any: ['arbitrary', 'data', 'goes', 'here', true]
})
// goto returns a promise that resolves the data coming from the external task
promise.then(data => console.log(data));
```

## Sending data back

`ApplicationService` has a method called `postMessageReply` which can be used to send data back to the parent.

```
this._applicationService.postmessageReply({
    snackbar: 'You have been sent back!'
})
```

This will close the focus shift and display the message "You have been sent back!". Here you can also attach any arbitrary data.

## Examples

There's examples in `HomeComponent` on how to open an external task and `DynamicShortcutComponent` has examples on how to act on this data. 
