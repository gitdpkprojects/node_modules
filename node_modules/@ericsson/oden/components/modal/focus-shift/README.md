[//]: # (title: Focus shift)
[//]: # (category: Modals)
[//]: # (icon: fa-list-alt)

#Focus shift
* import { FocusShiftBaseComponent } from '@ericsson/oden';
* import { FOCUS_SHIFT } from '@ericsson/oden/constants';

To use an Focus shift modal, you need to extend the `FocusShiftBaseComponent` class, or to implement the `IFocusShift` interface. 

An minimum effort Focus Shift modal class
```
    export class BasicFocusShiftComponent extends FocusShiftBaseComponent {
        constructor(element: ElementRef, renderer: Renderer2) {
            super(element, renderer);
        }
    }
```

Your Component needs to be in the module's EntryComponents array. (See tpg-2.module.ts for example) 

The FocusShiftBaseComponent emits two events by default: 
`onOpen(IFocusShift)` and `onClose(IFocusShift)`. The onOpen event will be fired after the animation is completed, and the onClose will be emitted when you have closed the modal. 
`IFocusShift.isOpen:boolean` is true when your modal is open. 
You have the responsibility to close your modal. 

To open a Focus shift modal you need to have:
* A Component which handles open / close of the modal
* An Oden Button- or BlockComponent depending on what triggers the Modal (In this example, `BasicFocusShiftButton`)
* A Focus Shift Component (In this example, `BasicFocusShiftComponent`)

The button is required because that's where the animation will take place (*not implemented yet*)
The component which handles open / close (Like the tpg-2 `HomeComponent`) is required because thats how you handle all you need to do with the component. 
In our examples in `HomeComponent` we use two ways of getting the button: One which uses the Angular2 `@ViewChild` method, the other with an view variable. 

To open a focus shift, use this method: 

`ModalService.createFocusShiftBlockFromComponent<IFocusShift> (IFocusShift, ButtonComponent, contextTitle?: string): ComponentRef<IFocusShift>`

The last parameter, `contextTitle`, is optional and if not specified it will try to grab the application header's title.

In this example: 
`ModalService.createFocusShiftBlockFromComponent<BasicFocusShiftComponent> (BasicFocusShiftComponent, BasicFocusShiftButton)`

Use the BasicFocusShiftComponent as a boilerplate for your own FocusShift Modals.

##Focus shift animation

To use the focus shift animation, import `FOCUS_SHIFT` from `'@ericsson/oden/constants'` and then add it to your focus shift component like this:

``` 
@Component({
    selector: 'myComponent',
    templateUrl: 'myComponent.component.html',
    animations: [FOCUS_SHIFT.ANIMATION]
})

export class MyComponent extends FocusShiftBaseComponent {
    @HostBinding('@shiftAnimation') shiftAnimation: string;
    ...
}
```
