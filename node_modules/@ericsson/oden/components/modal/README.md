[//]: # (title: Modal helper)
[//]: # (category: Modals)
[//]: # (icon: fa-list-alt)

# Modal helper
* import { DialogConfig, ModalModule, ModalService, ModalHelperService, ProgressModalConfig } from '@ericsson/oden';

The modal helper service handles modals in the library, for example when opening a Dialog. Import ModalModule.forRoot() to instantiate ModalService and ModalHelperService.

## Methods
### createDialog(config: DialogConfig, componentFactoryResolver?: ComponentFactoryResolver, open: boolean = true):_DialogComponent_
Creates and returns a DialogComponent from a DialogConfig. Read more about the config under Dialog component. Your component is responsible for removing/closing the dialog.
Important: get an instance of your modules ComponentFactoryResolver in your component and pass it to this method.
For example: Add `private _componentFactoryResolver: ComponentFactoryResolver` in your components constructor, and pass `this._componentFactoryResolver` to this method.

If you specify `false` as the third parameter, the function won't open the dialog by itself. This is needed if you want to add an `onOpen` event.
Example:

```
...
let config: DialogConfig = new DialogConfig({
    title: 'Dialog title',
    message: `<p>This is a simple dialog body text. This is a simple dialog body text.</p>`,
    type: DIALOG_TYPE.DIALOG
});
this.dialog = this._modalHelperService.createDialog(config, this._componentFactoryResolver, false, element); // passing false as 3rd parameter.
Pass an element as forth parameter to position the dialog next to the element.

this.dialog.onOpen.subscribe(() => {
    // things to happen when dialog gets opened
});
...
// calling the open function ourselves
this.dialog.open();
```


### Using title template
With title template you can specify the modal title in a more flexible way, adding icons for instance.
To create a modal using title template create a component that contains a ViewChild named `titleTemplate`.

custom-dialog-with-template-title.component.ts
```
@Component({
    selector: 'custom-dialog-with-template-title',
    templateUrl: 'custom-dialog-with-template-title.component.html'
})
export class CustomDialogWithTemplateTitleComponent implements ICustomDialog {
    @ViewChild('titleTemplate') titleTemplate;
    constructor() { }
}
``` 

custom-dialog-with-template-title.component.html
```
<ng-template #titleTemplate><cui-icon icon="search"></cui-icon> The title with an icon</ng-template>
```

Then use the `CustomDialogWithTemplateTitleComponent` like this:
```
openCustomDialog(): void {
    const config: DialogConfig = new DialogConfig({
        actions: [
            new ModalActionItem({
                label: 'Ok',
                action: 'ok',
                cssClass: 'primary'
            })
        ],
        component: CustomDialogWithTemplateTitleComponent,
        width: '600px',
        type: DIALOG_TYPE.DIALOG
    });
    this.dialog = this._modalHelperService.createDialog(config);
}
```

####custom-dialog.interface.ts
```
export interface ICustomDialog {
    titleTemplate?: TemplateRef<any>;
}
```


###createProgressModal(config: ProgressModalConfig, open: boolean = true):_ProgressModalComponent_
Creates and returns a ProgressModalComponent from a ProgressModalConfig. Read more about the config under Progress modal component. Your component is responsible for removing/closing the dialog.

See `createDialog()` above for the `open` parameter.
