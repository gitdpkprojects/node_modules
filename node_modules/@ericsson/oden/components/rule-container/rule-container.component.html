<ng-container *ngIf="!blockTree">
    <cui-rule-event *ngIf="event"
         [label]="event.label"
         [description]="event.description" >
    </cui-rule-event>
    <fieldset class="is-operator" *ngIf="layout === 1 && allConditions.length > 0 && anyConditions.length > 0; else elseTpl"><legend>{{'ODEN.COMMON.ALL' | translate}}</legend>
        <ng-container *ngTemplateOutlet="elseTpl"></ng-container>
        <fieldset class="is-operator"><legend>{{'ODEN.COMMON.ANY' | translate}}</legend>
            <cui-rule-condition
                *ngFor="let condition of anyConditions;"
                [label]="condition.label"
                [description]="condition.description"
                [isAnyOperator]="true"
                [isNotOperator]="condition.isNotOperator"
                [enableOperator]="condition.enableOperator"
                [enableArrow]="condition.enableArrow"
                [margin]="condition.margin"
                [layout]="layout">
            </cui-rule-condition>
        </fieldset>
    </fieldset>
    <ng-template #elseTpl>
        <cui-rule-condition
            *ngFor="let condition of allConditions; let additionalCondition = index"
            [label]="condition.label"
            [description]="condition.description"
            [operator]="additionalCondition ? ('ODEN.COMMON.AND' | translate) : ''"
            [isAnyOperator]="condition.isAnyOperator"
            [isNotOperator]="condition.isNotOperator"
            [enableOperator]="condition.enableOperator"
            [enableArrow]="condition.enableArrow"
            [margin]="condition.margin"
            [layout]="layout">
        </cui-rule-condition>
        <ng-container *ngIf="!allConditions.length">
            <cui-rule-condition
                *ngFor="let condition of anyConditions; let additionalCondition = index"
                [label]="condition.label"
                [description]="condition.description"
                [operator]="additionalCondition ? ('ODEN.COMMON.OR' | translate) : ''"
                [isAnyOperator]="true"
                [isNotOperator]="condition.isNotOperator"
                [enableOperator]="condition.enableOperator"
                [enableArrow]="condition.enableArrow"
                [margin]="condition.margin"
                [layout]="layout">
            </cui-rule-condition>
        </ng-container>
    </ng-template>
    <cui-rule-action *ngIf="action"
         [label]="action.label"
         [description]="action.description" >
    </cui-rule-action>
</ng-container>
<ng-container *ngIf="blockTree">
    <cui-rule-event *ngIf="event"
        [label]="event.label"
        [description]="event.description">
    </cui-rule-event>
    <ng-container *ngFor="let child of blockTree.children">
        <cui-rule-tree [model]="child"></cui-rule-tree>
    </ng-container>
</ng-container>
