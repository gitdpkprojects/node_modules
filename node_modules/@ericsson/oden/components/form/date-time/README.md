[//]: # (title: Date & Time)
[//]: # (category: Form elements)
[//]: # (icon: fa-check-square-o)

#Date & Time
* import { FormModule } from '@ericsson/oden';

Date & Time consists of three different components - `cui-date-input`, `cui-time-input` and `cui-date-time-input`. They all look like normal input fields, but with two exceptions:
* They have a "mask" to help the user enter the data in a proper way.
* They have an icon to their right where the users can click to open up a date-time-picker overlay, where they can choose date/time from a calendar and sliders.

There is also a wrapper component, `cui-period-picker`, for connecting two date inputs. 

```
<cui-date-time-input [(ngModel)]=":Date" 
    [seconds]="true" [title]="'Date and time'">
</cui-date-time-input>

<cui-date-input [(ngModel)]=":Date" [title]="'Date'">
</cui-date-input>

<cui-time-input [(ngModel)]=":string" [title]="'Time'">
</cui-time-input>

<cui-period-picker>
    <cui-date-input [(ngModel)]=":Date" (onChange)="function($event)" [title]="'From'"></cui-date-input>
    <cui-date-input [(ngModel)]=":Date" (onChange)="function($event)" [title]="'To'"></cui-date-input>
</cui-period-picker>
```

###[(ngModel)]
For the date and date-time components, pass a `Date` object. For the `cui-time-input`, pass a `HH:MM` or `HH:MM:SS` string.

###(onChange)=_function_
The `onChange` event is triggered when the date is changed; either by datepicker or by typing the value in the input field.

###[seconds]_:boolean_
Whether or not to include seconds for the time (affects the input mask and the overlay picker). Default is `false`.

###[title]_:string_
This text will be placed above the input field as a `<label>` element.

###[required]_:boolean_
Whether or not this field is required. Optional.

###[disabled]_:boolean_
Whether or not this field is disabled. Optional.

###[fromDate]_:Date_
Pass a Date object to this parameter to prohibit the user from choosing a date earlier than it. Optional.

###[toDate]_:Date_
Pass a Date object to this parameter to prohibit the user from choosing a date later than it. Optional.

###[ranges]_:DateRange[]_
Pass array of DateRange object to this parameter to prohibit the user from choosing a date that is not in the range. If time is passed along with the date, it will prohibit the user from choosing a time lesser than the minimum time and time exceeding the maximum time that is not in the range. Optional. 
DateRange is an object of fromDate and toDate. Example:

```
this.ranges = [
    new DateRange({
        fromDate: new Date('2018-05-05 05:20:37'),
        toDate: new Date('2018-05-25 10:10:37')
    }),
    new DateRange({
        fromDate: new Date('2018-06-04 02:11:30'),
        toDate: new Date('2018-08-28 03:10:10')
    })
]
```

```
<cui-date-time-input [ranges]="ranges"></cui-date-time-input>
```

##Error messages

The date components have built in validators that either returns no errors (valid) or an object named `type` with one of the following attributes set to true: 

* `required` - if the field is required but empty
* `invalid` - if the field contains an illegal date or time, ie `2012-13-13` or `11:5`
* `outOfRange` - if the date/time is earlier/later than specified from/date Date.

Here is an example on how to display different error messages depending on the error.

```
    <cui-date-time-input [fromDate]="fromDate" [toDate]="toDate" [required]="true" [(ngModel)]="myModel.date" #date1="ngModel"  [title]="'Date and time'"></cui-date-time-input>
    <p class="error-text" *ngIf="!date1.valid && date1.touched && date1.errors?.type?.required">This field is required.</p>
    <p class="error-text" *ngIf="!date1.valid && date1.touched && date1.errors?.type?.invalid">Date is invalid.</p>
    <p class="error-text" *ngIf="!date1.valid && date1.touched && date1.errors?.type?.outOfRange">Date is out of range, please use the date picker to find a proper date.</p>
```

##cui-period-picker

The `cui-period-picker` component is very simple - put it around two date components and it will automically put a `to` label between them.

```
<cui-period-picker>
    <cui-date-input [(ngModel)]=":Date" [title]="'From'"></cui-date-input>
    <cui-date-input [(ngModel)]=":Date" [title]="'To'"></cui-date-input>
</cui-period-picker>
```

###[label]_:string_
The text that goes between the two components. Defaults to `to`.

