@import '../select/select.component';

$button-base-color: base-color;
$button-base-color-inverted: base-color-light;

$activeTint: $tint-10;
$hoverTint: $tint-20;

.cui-multi-button {
    display: inline-block;
    position: relative;
    vertical-align: middle;
    margin: 4px;
    outline: none;
    max-width: 100%;
    .multi-button-dropdown-input {
        cursor: pointer;
        border: 1px solid;
        @include theming-tint(background-color, $button-base-color, 0, 0);
        @include theming-tint(border-color, $button-base-color, $tint-20);
        @include theming-tint(color, $button-base-color, $tint-20);
        border-radius: 4px;
        padding: 0 12px;
        font-size: 12px;
        transition: $trans-border-color, $trans-bg, $trans-color;
        transition-duration: $dur1;
        outline: none;
        height: 30px;
        line-height: 30px;
        margin: 0;
        display: block;
        text-overflow: ellipsis;
        width: 100%;
        @include text-selection(none);
    }
    &.disabled {
        opacity: $disabled;
        cursor: not-allowed;
        pointer-events: none;
    }
    &.discard {
        .multi-button-dropdown-input {
            @include theming-tint(background-color, $button-base-color, $hoverTint, .05);
            @include theming-tint(border-color, $button-base-color, $hoverTint, 0);
            @include theming(color);
        }
        &:not(.disabled) {
            &:hover, &:active, &:focus:not(.inverted) {
                .multi-button-dropdown-input .cui-icon {
                    @include theming(color);
                }
            }

            &:hover, &.cui-button-focus {
                .multi-button-dropdown-input {
                    @include theming-tint(background-color, $button-base-color, $hoverTint, .2);
                    @include theming-tint(border-color, $button-base-color, $hoverTint, 0);
                    @include theming(color);
                }
            }
            &:active {
                .multi-button-dropdown-input {
                    @include theming-tint(background-color, $button-base-color, $activeTint, .4);
                    @include theming-tint(border-color, $button-base-color, $activeTint, 0);
                    @include theming(color);
                }
            }
        }
    }
    &.primary {
        .multi-button-dropdown-input {
            @include theming(color, $button-base-color-inverted);
            @include theming(border-color, brand-primary);
            @include theming(background-color, brand-primary);
        }
        &:not(.disabled) {
            &:hover, &:focus:not(.inverted) {
                .multi-button-dropdown-input {
                    border: 1px solid;
                    @include theming-tint(border-color, brand-primary, $tint-17);
                    @include theming-tint(background-color, brand-primary, $tint-17);
                }
            }
            &:active {
                .multi-button-dropdown-input {
                    border: 1px solid;
                    @include theming-shade(background-color, brand-primary, $tint-33);
                    @include theming-shade(border-color, brand-primary, $tint-33);
                }
            }
        }
        .cui-icon {
            @include theming(color, $button-base-color-inverted);
        }
    }
    &.inverted {
        .multi-button-dropdown-input {
            @include theming-shade(border-color, $button-base-color-inverted, $tint-10);
            @include theming(color, $button-base-color-inverted);
        }
        &:not(.disabled) {
            &:hover, &:focus {
                .multi-button-dropdown-input {
                    @include theming-shade(background-color, $button-base-color-inverted, $tint-10);
                    @include theming-shade(border-color, $button-base-color-inverted, $tint-10, 0);
                    @include theming(color);
                }
                .cui-icon {
                    @include theming(color, $button-base-color);
                }
            }
            &:active {
                .multi-button-dropdown-input {
                    @include theming-shade(background-color, $button-base-color-inverted, $tint-20);
                    @include theming-shade(border-color, $button-base-color-inverted, $tint-20, 0);
                    @include theming-shade(color);
                }
                .cui-icon {
                    @include theming(color, $button-base-color);
                }
            }
        }
        .cui-icon {
            @include theming(color, $button-base-color-inverted);
        }
        .cui-batch-actions & {
            margin-top: -4px;
        }
    }
    &:not(:disabled) {
        &:hover, &:active, &:focus:not(.inverted) {
            .multi-button-dropdown-input {
                @include theming-tint(background-color, $button-base-color, $hoverTint);
                @include theming-tint(border-color, $button-base-color, $hoverTint);
                @include theming(color, $button-base-color-inverted);
                border: 1px solid transparent;
            }
            .cui-icon {
                @include theming(color, $button-base-color-inverted);
            }
        }
    }
    .cui-icon {
        @include theming-tint(color, $button-base-color, $tint-20);
        position: absolute;
        right: 4px;
        top: 4px;
        pointer-events: none;
        transition-duration: $dur1;
    }
    .multi-button-dropdown-content {
        left: -9999px!important;
    }
}
.multi-button-dropdown-content {
    @extend .dropdown-content;
    max-width: 300px;
}
