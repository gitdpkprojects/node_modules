<cui-icon
    *ngIf="node.children?.length > 0 && !hideOpener"
    [class.no-visible-children]='noVisibleChildren'
    (click)="toggleOpen()"
    class="opener small"
    [class.open]="node.open"
    icon="chevron-right">
</cui-icon>
<span (click)="toggleActive()" class ="node" [class.active]="node.active">
    <cui-icon [icon]="node.icon" class="small" *ngIf="node.icon"></cui-icon>
    <span class="display-label" [cuiTooltip]="displayLabel" [cuiTooltipOnOverflow]="true" [innerHTML]="displayLabel"></span>
    <em *ngIf="node.children?.length > 0">({{node.children.length}})</em>
</span>

<ul *ngIf="node.children?.length > 0" [@state]="state" [class.open]="node.open">
    <li cui-node-view
        *ngFor="let child of node.children"
        [node]="child"
        [parentComponent]="this"
        [hideOpener]="hideOpener"></li>
</ul>
