<ng-content select="oden-table-head"></ng-content>
<div class="sticky" [style.top.px]="_stickyTopPosition" [style.width.px]="_stickyWidth" [style.left.px]="_stickyLeftPosition" *ngIf="_showStickyTableHeader && _headers.length > 0">
    <ng-template [ngTemplateOutlet]="batchActionsTemplateRef"></ng-template>
    <div class="cui-table-wrapper">
        <div class="wrapper">
            <table>
                <thead>
                    <tr>
                        <ng-template [ngTemplateOutlet]="tableHeaderTemplate"></ng-template>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>

<div class="cui-table-wrapper" #tableElementRef>
    <table>
        <thead *ngIf="!_showStickyTableHeader && _headers.length > 0">
            <tr>
                <ng-template [ngTemplateOutlet]="tableHeaderTemplate"></ng-template>
            </tr>
        </thead>
        <thead *ngIf="_showStickyTableHeader && _headers.length > 0" class="pseudo-headers">
            <tr>
                <th *ngIf="_selectHeaderComponent" class="select"></th>
                <th *ngIf="_hasSingleSelectCell" class="select"></th>
                <th *ngIf="_isNestedTable" class="expand"></th>
                <th *ngIf="_hasIndexCell" class="select index"> Index </th>
                <th *ngFor="let header of _headers" [style.width]="header._calculatedWidth"></th>
                <th *ngIf="_hasSingleActionsCell && addSingleActionColumn" class="single-action"></th>
            </tr>
        </thead>
        <tbody #tableBodyRef>
            <ng-template [ngTemplateOutlet]="rowTemplatesQueryList?.first.templateRef" [ngTemplateOutletContext]="{ row: row, index: rowIndex }"
                *ngFor="let row of rows || [null]; let rowIndex = index; trackBy: _ngForTrackByBind">
            </ng-template>
        </tbody>
    </table>
</div>
<ng-content select="oden-table-pagination"></ng-content>
<ng-template #tableHeaderTemplate>

    <ng-content select="[odenSelectHeader]"></ng-content>
    <th *ngIf="_hasSingleSelectCell" class="select"></th>
    <th *ngIf="_isNestedTable" class="expand"></th>
    <th *ngIf="_hasIndexCell" class="select index"> Index </th>
    <ng-content select="[odenHeader]"></ng-content>
    <ng-content select="[odenColumnSetSelectorMenu]" *ngIf="_tableColumnSetSelectorMenuQueryList.first; else defaultColumnSetSelectorMenuTemplate">
    </ng-content>
</ng-template>

<ng-template #defaultColumnSetSelectorMenuTemplate>
    <th odenColumnSetSelectorMenu *ngIf="_hasSingleActionsCell && addSingleActionColumn">
    </th>
</ng-template>
