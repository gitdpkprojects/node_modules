[//]: # (title: List controller)
[//]: # (category: List & Table)
[//]: # (icon: fa-table)

#List Controller
* import { ListControllerModule } from '@ericsson/oden';

``<cui-list-controller>`` is a wrapper for the all list controller components.

```
<cui-list-controller
    [blockStyle]="boolean"
    [isFiltersExpanded]="boolean">
    <cui-list-controller-filter></cui-list-controller-filter>
    <cui-list-controller-action></cui-list-controller-action>
    <cui-list-controller-order></cui-list-controller-order>
    <cui-list-controller-category-filter></cui-list-controller-category-filter>
    <cui-list-controller-general></cui-list-controller-general>
    <cui-list-controller-clear-filters></cui-list-controller-clear-filters>
    <cui-list-controller-number-of-results></cui-list-controller-number-of-results>
</cui-list-controller>
```

### Inputs:

* **blockStyle** - A boolean set to true if filters should be rendered in block style.
* **isFiltersExpanded** - A boolean set to true if filters in toggler should be expanded on load. Used in library.


##ListControllerFilter

``<cui-list-controller-filter>`` is an input field with a callback for filtering.

```
<cui-list-controller-filter (onFilterChange)="onFilterTable($event)"
    [value]="string"
    [placeholder]="'Filter by name'">
</cui-list-controller-filter>
```

###(onFilterChange):_function(ActionItem)_
A callback which should receive the ActionItem and do the desired action

###placeholder:_string_
The placeholder text inside the filter input.

###value:_string_
If you want a prefilled value in the filter field, use the `[value]` input. This is also useful if you want to change the text in the filter input field from your own component (ie if you want to empty it).

##DOMHelper.highlightString()

When presenting a filtered result you might want to highlight the search string in those results. Here is an example on how to do that:

```
this.displayData.forEach((data) => {
    data.title = DOMHelper.highlightString(this.searchString, data.title);
});
```

####dom.helper.ts
```
static highlightString(searchValue: string, source: string, extraClass: string = '', regex: RegExp = new RegExp(searchValue.trim(), 'gi')): string
```

Per default, the `highlightString()` function will wrap the matching text in a `.highlighted` span that is blue with white text. If you want green or red text as your preferred highlighted styling, then add `'positive'` (green) or `'negative'` (red) as a third parameter.

```
d.displayName = DOMHelper.highlightString(this.searchString, d.displayName, 'positive');
```

There is also a fourth optional parameter where you can pass your own Regexp function.

##ListControllerAction

``<cui-list-controller-action>`` is a select field with a callback.

```
<cui-list-controller-action
    (onActionSelect)="function(ActionItem)"
    [actions]="Array<ActionItem | Divider>"
    [action]="ActionItem"
    label="string"
    [(isUnOrdered)]="boolean">
</cui-list-controller-action>
```

###(onActionSelect):_function(ActionItem)_
A callback which should receive the ActionItem and do the desired action

###[actions]:_Array<ActionItem | Divider>_
An array of ActionItems/Dividers that will be displayed in a select. When a user selects a ActionItem, it will be sent to the callback.

###[action]:_ActionItem_
The default ActionItem to group by

###label:_string_
The label of the select.

###[(isUnOrdered)]:_boolean_
Default is false. Set this to true to signal that your dataset is unaffected by this controller. A `-` will appear as the chosen option. Clicking and choosing an action will automatically set this to `false`.


##ListControllerOrder
```
<cui-list-controller-order [orderItems]="tableOrderItems"
    (onOrderChange)="onTableOrderChange($event)"
    label="Sort by"
    [(isUnOrdered)]="boolean">
</cui-list-controller-order>
```

####list-controller-order-item.model.ts
```
export class ListControllerOrderItem extends QuickAssign {
    order: ORDER = ORDER.NONE; // The current sort order
    sortOrders: Array<ORDER> = [ORDER.ASCENDING, ORDER.DESCENDING]; // Available sort orders for this item
    field: string; // Used as an identifier in the callback
    label: string; // Displayed in the list
}
```

###[orderItems]:_Array&lt;ListControllerOrderItem&gt;_
An array of ListControllerOrderItem. Include  `ListControllerOrderItem({label: "", sortOrders: [ORDERS.NONE], field: "none"})` to have an empty sort-order.

###[orderItem]:_ListControllerOrderItem_
A ListControllerOrderItem which will be the default orderItem in the list.
If none is present, the first ListControllerOrderItem in orderItems will be the default one.

###[selectFirstItem]:_boolean_
If true, selects the first item(option) from orderItems. Default is true. If false, no item(option) is selected on first load.

###(onOrderChange):_function($event: ListControllerOrderItem)_
A callback that sends the current ListControllerOrderItem

###label:_string_
Defaults to "Sort by", displayed in the view.

###[(isUnOrdered)]:_boolean_
Default is false. Set this to true to signal that your dataset is unaffected by this controller. A `-` will appear as the chosen option. Clicking and choosing an action will automatically set this to `false`.


##ListControllerCategoryFilter
```
<cui-list-controller-category-filter
    (onCategoryFilterChange)="function($event)"
    [filterGroup]="ListControllerCategoryFilterGroup"
    [layout]="CATEGORY_FILTER_LAYOUT"
    [numberOfVisibleFilters]="number">
    </cui-list-controller-category-filter>
```

###[filterGroup]:_ListControllerCategoryFilterGroup_
The `ListControllerCategoryFilterGroup` that contains `label`, `field` and `items`, `disabled`, `removeAllOption` (see below).

###[layout]:_CATEGORY_FILTER_LAYOUT_
Makes it possible to render category filters as multiselect (default) or checkboxes when used in Multidrawer.

###[width]:_string_
Optional. Use this is you want to use a custom width for the select component.

###[numberOfVisibleFilters]:_string_
Optional. When rendered in a drawer and CATEGORY_FILTER_LAYOUT.CHECKBOXES layout is used then it's possible to set the amount of visible checkboxed to be visible when toggler is collapsed.

###(onCategoryFilterChange):_function($event)_
A callback that sends an object with two attributes - `group` (contains the ListControllerCategoryFilterGroup) and `ngModel` (contains the selected `ListControllerCategoryFilterItem`s).
In this callback function you can filter/manipulate your data.


####list-controller-category-filter-group.model.ts
```
export class ListControllerCategoryFilterGroup {
    label: string; // Text that goes before the category filter combobox
    field?: string; // Unique identifier, if needed
    items: Array<ListControllerCategoryFilterItem>; // All items for the combobox
    disabled?: boolean = false;
    removeAllOption? // Hide the 'all' option
}
```

####list-controller-category-filter-item.model.ts
```
export class ListControllerCategoryFilterItem {
    field: string; // Used as an identifier in the callback
    label: string; // Displayed in the list
    selected?: boolean = true;
    disabled?: boolean = false;
    tooltip?: string; // Will be displayed when hovering the item in the list
}
```


##ListControllerGeneral

The `ListControllerGeneral` component is a general wrapper for components not covered by the other controllers. Currently the following components are supported inside it:
* `cui-date-input`
* `cui-date-time-input`
* `cui-time-input`

```
<cui-list-controller-general [label]="'Date'">
    <cui-date-input [(ngModel)]="date" (onChange)="onDateFilterChange($event)"></cui-date-input>
</cui-list-controller-general>
```

###[label]:_string___*__
The text that goes next to the controller field. Required.


##ListControllerClearFilters
```
<cui-list-controller-clear-filters
     (onClearFilters)="onClearFilters()"></cui-list-controller-clear-filters>
```

###(onClearFilters):_function($event)_
A callback that is triggered when user clicks on the reset filters link.
In this callback function you need to reset the filter according to your needs.


##ListControllerNumberOfResults
```
<cui-list-controller-number-of-results
    numberOfResults="number"></cui-list-controller-number-of-results>
```

###[numberOfResults]:_number_
The number of results that are available with current filter applied.
