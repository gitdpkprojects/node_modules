[//]: # (title: Tiles)
[//]: # (category: Layout)
[//]: # (icon: fa-arrow-down)

#Tiles
* import { TileGroupModule } from '@ericsson/oden';
* import { TILES, TIME } from '@ericsson/oden/constants';

Tiles are used for displaying a preview from a set of data. Tile sections can be added either in tileData or specified in custom tile sections. If both are specified custom sections will be added first.

```
<cui-tile-group
    [selectable]="boolean" 
    [batchActions]="Array<ActionItem>"
    (onBatchClick)="function($event)"
    [showLayouts]="boolean"
    [layout]="TILES">
    <cui-tile-item
        [tileData]="TileData"
        [actions]="Array<ActionItem>"
        [titleTooltipTemplate]="myTemplate"
        [descriptionTemplate]="descriptionTemplate"
        [customDraftTooltip]="string"
        (onTileSelection)="function($event)"
        (onActionClick)="function($event)"
        (onTileClick)="function(TileItemComponent | TableRowComponent)">
        <cui-tile-section>
            <h3>Header</h3>
            <cui-list-view>
                <cui-list-view-label>label</cui-list-view-label>
                <cui-list-view-value>value</cui-list-view-value>
                <cui-list-view-label>label</cui-list-view-label>
                <cui-list-view-value>value</cui-list-view-value>
                <cui-list-view-label>Badge</cui-list-view-label>
                <cui-list-view-value><cui-state-badge [state]="STATE.PUBLISHED"></cui-state-badge></cui-list-view-value>
            </cui-list-view>
            <cui-tile-section-more [items]="1" [tooltip]="'label: value'"></cui-tile-section-more>
        </cui-tile-section>
        <ng-template #myTemplate>
            <h4>Title</h4>
            <p>{{tileData.label}}</p>
            <h4>ID</h4>
            <p>{{tileData.id}}</p>
        </ng-template>
        <ng-template #descriptionTemplate>
            <cui-icon [icon]="'info'" class="small" [cuiTooltip]="'Tooltip'"></cui-icon>
            Description goes here
        </ng-template>
    </cui-tile-item>
</cui-tile-group>
```

##cui-tile-group

###[selectable]:_boolean_
Default is false. Set this to true to make the tiles selectable (checkbox will appear in top left corner).

###[batchActions]:_ActionItem[]_
Pass an array of `ActionItem`s here that will be shown in the batch actions area on top of the tile group when one or more tiles have been selected.

###(onBatchClick):_function($event: ActionItem)_
A callback which is sent when a batch action is pressed by the user.

###[showLayouts]:_boolean_
Default is true. A group of layout icons will be displayed above the tile group when this is enabled. If the tile group is placed directly under a `<cui-list-controller>` it will be placed together with the list controller.

###[layout]:_TILES_
Default layout is `TILES.LANDSCAPE` or whatever the user has selected last time (saved in cookie). By passing a layout option here the cookie will be ignored.

##cui-tile-item

###[tileData]:_TileData___*__
Your `TileData` model with the data you want presented.

```
    id?: string;
    label: string;
    subtitle: string;
    sections: Array<TileSection> = [];
    state: STATE;
    text: string;
    versions: number | Array<EntityVersion>;
    activeDate: string | Date;
    modifiedDate?: Date;
    dateFormat: string = 'll';
    path?: string;
    versionsTooltip?: string;
    icon?: string;
    iconTooltip?: string;
    selected?: boolean = false;
    image?: string;
    discontinued?: boolean = false;
```

If you set the `path` attribute, the tile will be clickable and the user will navigate to that path. This property is optional.

The `versions` could either be a number or an array of `EntityVersion`. IF you pass an array of `EntityVersion`s, they will automatically be added to the tile's action menu as well as being represented by one or two state badges in the tile. Hovering the state badges will show a tooltip with detailed information.

####entity-version.model.ts
```
export class EntityVersion {
    state: STATE;
    label: string;
    selected: boolean;
    extra: number;
    tooltip: string;
    color: COLOR;
    outlined: boolean;
    semiTransparent: boolean;
    validFrom?: Date | TIME;
    validTo?: Date | TIME;
}
```

The `validFrom` and `validTo` parameters could either be a `Date` or a `TIME` constant that is either `BEGINNING_OF_TIME` or `END_OF_TIME`.

NB! When passing an array as `TileData.versions` the parameters `activeDate` and `versionsTooltip` will be ignored (they will be automically generated from the versions data).

###[actions]:_ActionItem[]_
actions should be an Array of ActionItem(s). These will be sent back to your callback (_onSingleClick_) as a _TableActionItem_ when that action is called.
* If actions is specified the tile will have an action menu on the right side.

###[fullSized]:_boolean_
Default is false. Set this to true to hide the `text` and `sections` from the tile and leave full space for whatever content you want inside the `<cui-tile-item>` tag. 

###[titleTooltipTemplate]:_TemplateRef_
Optional. Compose your own title tooltip by using a template (see example above).  

###[descriptionTemplate]:_TemplateRef_
Optional. Compose your own description by using a template (see example above).

###[customDraftTooltip]:_string
Optional. This text is shown in tooltip for the version draft when no from and to time is set.

###(onActionClick):_function($event: ActionItem)_
A callback which is sent when an action is pressed by the user.

###(onTileClick):_function(TileItemComponent | TableRowComponent)_
A callback which is sent when the tile has been clicked, useful for creating a Focus Shift for example. Use this and not `click()`!

###(onTileSelection):_function(TileData)_
A callback which is sent when the tile has been selected, emits the selected `TileData`.

####action-item.model.ts
```
export class ActionItem {
    label: string;
    action: string;
    disabled: boolean;
    tooltip?: string;
    icon?: string;
    icon_align?: string;
    data?: any;
    items?: Array<any>;
}
```

##cui-tile-section
A tile section can be used to create a custom . TileSection allows usage of ListView inside the section. Keep in mind that only a total of 4 rows (including "+X more") are supported in tile sections.

A custom tile section should be used together with ListView.

For correct section header `h3` must be used.

See example below.

```
<cui-tile-section>
    <h3>Testing</h3>
    <cui-list-view>
        <cui-list-view-label>label</cui-list-view-label>
        <cui-list-view-value>value</cui-list-view-value>
        <cui-list-view-label>label</cui-list-view-label>
        <cui-list-view-value>value</cui-list-view-value>
        <cui-list-view-label>Badge</cui-list-view-label>
        <cui-list-view-value><cui-state-badge [state]="STATE.PUBLISHED"></cui-state-badge></cui-list-view-value>
    </cui-list-view>
    <cui-tile-section-more [items]="1" [tooltip]="'label: value'"></cui-tile-section-more>
</cui-tile-section>

<cui-tile-section [sectionData]="data"></cui-tile-section>
```

###[sectionData]:_TileSection_
Optional parameter. If this is set the default layout for section will be used for specified data.

####tile-section.model.ts
```
export class TileSection extends QuickAssign {
    label: string; // The label of the section
    data: Array<string>; // A 2d array with strings
}
```


##cui-tile-section-more
Use this component together with custom tile section. Creates a "+X more" with customizable tooltip.
```
<cui-tile-section-more [items]="1" [tooltip]="'label: value'"></cui-tile-section-more>
```

###[items]:_number_
Number of extra items to indicate for label

###[tooltip]:_string_
A string for hover tooltip


##Focusing and selecting programmatically

To select or focus a tile in a TileGroup, call `selected` or `focused` in `TileGroupService`.

```
this._tileGroupService.selected = 'id-in-tileData';
this._tileGroupService.focused = 'id-in-tileData';
```

You can do this from the same component where the TileGroup is rendered, or from another page and then navigate to the TileGroup page. The item will then be selected/focused once the TileGroup has been rendered.
