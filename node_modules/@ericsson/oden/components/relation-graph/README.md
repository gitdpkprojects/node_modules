[//]: # (title: Relation Graph)
[//]: # (category: Relation Graph)
[//]: # (icon: fa-indent)

#Relation Graph
* import { RelationGraphComponent } from '@ericsson/oden';

```
<cui-relation-graph
    [graph]="RelationGraph"
    [find]="RelationGraphPredicate"
    [filter]="RelationGraphPredicate"
    [collapsedUpstreamDepth]="number"
    [collapsedDownstreamDepth]="number"
    (onSelect)="function($event: RelationGraphEvent)"
    (onUnselect)="function()">
</cui-relation-graph>
```

###[graph]_:RelationGraph___*__
Relation graph to display.

###[find]_:RelationGraphPredicate_
Predicate for finding/highlighting nodes.

###[filter]_:RelationGraphPredicate_
Predicate for filtering nodes.

###[collapsedUpstreamDepth]_:number_
Depth of which the upstream graph will be collapsed at start.

###[collapsedDownstreamDepth]_:number_
Depth of which the downstream graph will be collapsed at start.

###(onSelect)_:function($event: RelationGraphEvent)_
Event triggered when a node is selected-

###(onUnselect)_:function()_
Event triggered when a node is deselected.

## Model

#### RelationGraph
```js
export interface RelationGraph {
    /** Array of all types used by either nodes or relations */
    readonly types: Array<RelationGraphType>;
    /** Array of all nodes */
    readonly nodes: Array<RelationGraphNode>;
    /** Array of all relations */
    readonly relations: Array<RelationGraphRelation>;
    /** Index of root node in graph's nodes array */
    readonly rootRef: Ref;
}
```

**Example**
```js
{
    types: [
        {
            name: 'Node type'
        }
    ],
    nodes: [
        {
            id: 'root',
            name: 'root',
            typeRef: 0
        },
        {
            id: 'child',
            name: 'child',
            typeRef: 0
        }
    ],
    relations: [
        {
            sourceRef: 0,
            targetRef: 1
        }
    ],
    rootRef: 0
}
```

#### RelationGraphType
```js
export interface RelationGraphType {
    readonly name: string;
    readonly acronym?: string;
}
```

#### RelationGraphNode
```js
export interface RelationGraphNode {
    readonly id: string;
    readonly name: string;
    /** Index of node type in graph's types array */
    readonly typeRef: Ref;
    /** Set to true to display node with "link away" icon */
    readonly linkAway?: boolean;
}
```

#### RelationGraphRelation
```js
export interface RelationGraphRelation {
    /** Index of relation source node in graph's nodes array */
    readonly sourceRef: Ref;
    /** Index of relation target node in graph's nodes array */
    readonly targetRef: Ref;
    /** Index of relation type in graph's types array */
    readonly typeRef?: Ref;
}
```

#### RelationGraphPredicate
```js
export type RelationGraphPredicate = (node: RelationGraphNode, type: RelationGraphType) => boolean;
```

#### RelationGraphEvent
```js
export interface RelationGraphEvent {
    /** Affected node */
    readonly node: RelationGraphNode;
    /** Affected node type */
    readonly type: RelationGraphType;
    /** Used as source of focus shifts */
    readonly elementRef: ElementRef;
}
```
