[//]: # (title: Dropzone)
[//]: # (category: Dropzone)
[//]: # (icon: fa-arrows-alt)

#Dropzone
* import { DropzoneModule, DropzoneService } from '@ericsson/oden';

A dropzone is used for for ie building rules by dragging tactile blocks. By default a dropzone accepts all tactile blocks but by setting type you're able to control what kind of tactile block to accept.

```
<cui-dropzone
    [(items)]="Array<TactileBlockItem>"
    [maxItems]="number"
    [sortable]="boolean"
    [placeholderTitle]="string"
    [placeholderDescription]="string"
    (onMenuActionClick)="function($event: LibraryAction)"
    (onButtonActionClick)="function($event: LibraryAction)"
    (onItemAdded)="function($event: TactileBlockItem)"
    (onChange)="function($event: Array<TactileBlockItem>)"
    (onItemsOrderChange)="function($event: Array<TactileBlockItem>)"
></cui-dropzone>
```

###[items]_:Array&lt;TactileBlockItem&gt;___*__
TactileBlockItems in dropzone, can be used as two-way-binding.

###[maxItems]_:Array&lt;ActionItem&gt;_
Optional. Maximum allowed items in dropzone

###[sortable]_:boolean_
True by default. Specify `false` if you want to disable sorting the tactile blocks within the dropzone.

###[placeholderTitle]_:string_
Optional. Place holder title to be shown when no items in dropzone

###[placeholderDescription]_:string_
Optional. Place holder description to be shown when no items in dropzone

###[placeholderActions]_:Array&lt;ButtonActionItem&gt;_
Optional. Adds CTA buttons below placeholder message

###[enablePositionDisplay]_:boolean_
Optional. Enables displaying index position of items.

###[layout]_:LAYOUT_
Optional. Sets layout of tactile blocks in dropzone. Defaults to LAYOUT.HORIZONTAL.

###(onMenuActionClick)_:function($event: LibraryAction)_
This event will get triggered when the user clicks on an action menu inside a tactile block

###(onButtonActionClick)_:function($event: LibraryAction)_
This event will get triggered when the user clicks on an action button inside a tactile block

###(onItemAdded)_:function($event: TactileBlockItem)_
This event will get triggered when you add a Tactile block with the `DropzoneService.addTactileBlockToDropzone()` function.

###(onChange)_:function($event: Array&lt;TactileBlockItem&gt;)_
This event will get triggered when an item is added or deleted from the dropzone.

###(onPlaceholderActionClick)_:function($event: ButtonActionItem)_
This event will get triggered when one of the placeholder buttons are being clicked.

###(onTactileBlocksSelected)_:function($event: Array&lt;TactileBlockItem&gt;)_
This event will get triggered when an tactile block is selected. Currently there can only be one selected TactileBlockItem.

###(onItemsOrderChange)_:function($event: Array&lt;TactileBlockItem&gt;)_
This event will get triggered when reordering items in dropzone.

##Tactile block item model

####tactile-block-item.model.ts
```
export class TactileBlockItem {
    id: string = 'tactile-' + UUID.create();
    title: string;
    placeholderTitle?: string;
    subtitle?: string;
    description?: string;
    colorCode?: string; // ie '#f4b600'
    type: Array<string> = [];
    buttonActions?: Array<ActionItem | Divider>;
    menuActions?: Array<ActionItem | Divider>;
    persist: boolean = false;
    data: any;
    draggableItem?: any; // needed in conjunction with ie BlockTree
    disabled?: boolean = false;
    selectable?: boolean = false;
    tooltip?: string = null;
    childComponent?: ITactileBodyInterface | any; // Expects a Type - not an instance
    libraryChildComponent?: ITactileBodyInterface | any; // Expects a Type - not an instance
    selectLabel?: string = 'Edit'; // Not used
    icon?: string;
    iconTooltip?: string;
}
```

Some more detailed information regarding some of the attributes:

###type_:Array&lt;string&gt;_
The type of tactile block. Is used to control what types a dropzone accepts. If ie. `['condition', 'action']` is specified it's possible to drag this item to a dropzone that accepts condition or action tactile blocks.

###buttonActions_:Array&lt;ActionItem | Divider&gt;_
Button actions to be shown in tactile block.

###menuActions_:Array&lt;ActionItem | Divider&gt;_
Menu action items to be shown in tactile block.

###persist_:boolean_
Set to true if the tactile block should persist in library after user dropped it on a dropzone.

###data_:any_
Data property is used for add additional TPG specific data if needed.

###disabled_:boolean_
Set to true if the tactile block should be disabled and therefore not draggable/addable.

###tooltip_:string_
If you want a tooltip to appear when the user hovers a tactile block, assign the tooltip string to this property.

##DropzoneService
Import DropzoneModule.forRoot() to instantiate DropzoneService.

##Dropzone using templates
For visualizing models using other components than tactile blocks in the dropzone, a template should be used. When using templates you still drag and drop a tactile block, but you can list the model as a tile for an example instead of a tactile block in the dropzone. Example of this below:
```
<ng-template #template let-item="item" let-id="id" let-isDraggable="isDraggable">
    <cui-tile-item
        [attr.id]="id"
        cui-draggable
        [draggableConfig]="item"
        [isDraggable]="isDraggable">
    </cui-tile-item>
</ng-template>
```

The mandatory attributes to the custom elements are:
- `[attr.id]="id"` Binds the DOM element to the model.
- `cui-draggable` Makes the custom element draggable when it's been placed in the dropzone. Without this directive the dropzone will be readonly.
- `[draggableConfig]="item"` Pases the actual data for the drag and drop to the custom component.
- `[isDraggable]="isDraggable"` Bind the correct draggable state to custom elements.
