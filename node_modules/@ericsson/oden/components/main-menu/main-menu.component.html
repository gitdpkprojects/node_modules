<div class="profile" [style.backgroundImage]="(profile && profile.imgUrl ? 'url('+ profile.imgUrl +')' : false)">
    <div class="overlay" *ngIf="profile && profile.imgUrl"></div>
    <div class="user">
        <span class="user-name">{{(profile && profile.name ? profile.name : '')}}</span>
        <span class="user-email">{{(profile && profile.email ? profile.email : '')}}</span>
    </div>
</div>
<div class="nav">
    <ul>
        <li *ngFor="let mainMenuRoute of mainMenuRoutes" class="main-menu-item">

            <!-- Group with nested routes -->
            <span *ngIf="mainMenuRoute.groupName" class="menu-group-label">{{ mainMenuRoute.label }}</span>
                <span *ngIf="mainMenuRoute.groupName" class="nested-routes-wrapper">
                <span *ngFor="let nesterRoute of mainMenuRoute.children">
                    <a (click)="(hasChildRoutes(nesterRoute) && expandableMenu)? toggleApp(nesterRoute): navigateToRoute(nesterRoute) ">
                        {{nesterRoute.label}}
                        <cui-icon
                            *ngIf="nesterRoute.newWindow"
                            class="icon-appswitcher cui-icon"
                            ng-reflect-icon="appswitcher"
                            title="Switch app"></cui-icon>
                            <cui-icon *ngIf="(hasChildRoutes(nesterRoute) && expandableMenu)"
                                      [icon]="'chevron-down'" class="small app-toggler"
                                      [@toggleArrow]="nesterRoute.active ? 'down': 'up'">
                            </cui-icon>
                    </a>
                    <ul *ngIf="hasChildRoutes(nesterRoute)" [@toggleApp]="nesterRoute.active? 'show': 'hide'">
                        <li *ngFor="let childMenuRoute of nesterRoute.children">
                            <a (click)="navigateToRoute(childMenuRoute)" [class.active]="isActive(childMenuRoute)">
                                {{childMenuRoute.label}}
                                <cui-icon
                                    *ngIf="childMenuRoute.newWindow"
                                    class="icon-appswitcher cui-icon"
                                    ng-reflect-icon="appswitcher"
                                    title="Switch app"></cui-icon>
                            </a>
                        </li>
                    </ul>
                </span>
            </span>
            <span *ngIf="mainMenuRoute.groupName" class="menu-group-label-divider"></span>

            <!-- Toplevel route -->
            <span *ngIf="!mainMenuRoute.groupName">
            <a (click)="(hasChildRoutes(mainMenuRoute) && expandableMenu)? toggleApp(mainMenuRoute): navigateToRoute(mainMenuRoute) ">
                {{mainMenuRoute.label}}
                <cui-icon
                    *ngIf="mainMenuRoute.newWindow"
                    class="icon-appswitcher cui-icon"
                    ng-reflect-icon="appswitcher"
                    title="Switch app"></cui-icon>
                    <cui-icon *ngIf="hasChildRoutes(mainMenuRoute) && expandableMenu"
                              [icon]="'chevron-down'" class="small app-toggler"
                              [@toggleArrow]="mainMenuRoute.active ? 'down': 'up'">
                        </cui-icon>
            </a>
            <ul *ngIf="!mainMenuRoute.groupName && hasChildRoutes(mainMenuRoute)" [@toggleApp]="mainMenuRoute.active? 'show': 'hide'">
                <li *ngFor="let childMenuRoute of mainMenuRoute.children">
                    <a (click)="navigateToRoute(childMenuRoute)" [class.active]="isActive(childMenuRoute)">{{childMenuRoute.label}}</a>
                </li>
            </ul>
        </span>
        </li>
    </ul>
</div>
<div class="footer">
    <div class="wrapper">
        <span class="app-name" *ngIf="appName">{{appName}}</span>
        <span class="app-proprietor" *ngIf="appProprietor">{{appProprietor}}</span>
    </div>
    <cui-icon icon="econ"></cui-icon>
</div>